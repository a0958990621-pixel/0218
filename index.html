<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>çµ¦ æ›¾â˜ï¸ğŸ’— çš„æ•…äº‹æ›¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
        :root { --primary: #8d6e63; --accent: #e6beae; --bg: #fdfaf7; --text: #2c2c2c; --polaroid: #ffffff; --soft-red: #e63946; --sweet-bg: #fffcf9; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); font-family: "PingFang TC", sans-serif; overflow: hidden; color: var(--text); -webkit-font-smoothing: antialiased; }
        
        #login-overlay { position: fixed; inset: 0; background: var(--bg); display: flex; justify-content: center; align-items: center; z-index: 9999; transition: 1s; }
        .login-box { text-align: center; background: white; padding: 40px 25px; border-radius: 40px; box-shadow: 0 25px 60px rgba(176,137,104,0.15); width: 85%; max-width: 380px; }
        #pwd { padding: 15px; font-size: 20px; text-align: center; border: none; border-bottom: 2.5px solid #eee; outline: none; width: 100%; letter-spacing: 8px; margin-top: 20px; }
        .login-btn { margin-top: 30px; background: var(--primary); color: white; border: none; padding: 16px 50px; border-radius: 50px; cursor: pointer; font-size: 18px; width: 100%; }
        
        .book { position: relative; width: 100%; height: 100vh; perspective: 2500px; display: none; }
        .page { position: absolute; width: 100%; height: 100%; top: 0; left: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; background: var(--bg); transform-origin: left center; transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1), opacity 1s ease; backface-visibility: hidden; z-index: var(--z); }
        .page.flipped { transform: rotateY(-170deg) translateX(-50px); opacity: 0; pointer-events: none; }
        .after-love-content { display: none; }
        
        .polaroid { background: var(--polaroid); padding: 10px 10px 100px 10px; box-shadow: 0 15px 45px rgba(0,0,0,0.1); transform: rotate(-1deg); max-width: 95%; width: 340px; position: relative; border: 1px solid rgba(0,0,0,0.02); }
        .media-container { width: 100%; background: #fcfcfc; overflow: hidden; position: relative; display: flex; justify-content: center; align-items: center; min-height: 200px; }
        .scratch-overlay { position: absolute; inset: 0; background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%); backdrop-filter: blur(5px); z-index: 5; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: 0.8s; border-radius: 2px; }
        .scratch-overlay::after { content: "TAP TO REVEAL âœ¨"; color: #ad8a8a; font-size: 14px; letter-spacing: 2px; }
        .scratch-overlay.revealed { opacity: 0; pointer-events: none; transform: scale(1.05); filter: blur(15px); }
        
        video, img { max-width: 100%; max-height: 38vh; object-fit: contain; display: block; }
        .caption-tag { position: absolute; bottom: 15px; left: 0; width: 100%; text-align: center; font-size: 19px; color: #4a4a4a; letter-spacing: 1px; padding: 0 15px; line-height: 1.6; font-family: 'Noto Serif TC', serif; }
        .date-label { font-family: 'Noto Serif TC', serif; font-weight: 700; font-size: 1.3rem; color: var(--primary); margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 5px; }
        
        .nav-controls { position: fixed; bottom: 95px; width: 100%; display: flex; justify-content: center; gap: 30px; z-index: 1000; padding-bottom: env(safe-area-inset-bottom); }
        .btn { background: white; color: var(--primary); border: 1.5px solid var(--accent); padding: 12px 35px; border-radius: 50px; cursor: pointer; font-size: 15px; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: 0.3s; }
        .btn:disabled { opacity: 0; pointer-events: none; }
        
        #final-video-container { display: none; position: fixed; inset: 0; background: black; z-index: 8000; justify-content: center; align-items: center; opacity: 0; transition: 0.6s; }
        .video-wrapper { position: relative; width: 95%; padding-bottom: 56.25%; height: 0; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .close-video { position: absolute; top: 40px; right: 20px; color: white; font-size: 40px; cursor: pointer; z-index: 8001; width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; }
        
        #letter { display: none; background: white; padding: 40px 30px; border-radius: 20px; opacity: 0; max-width: 400px; border-left: 8px solid var(--accent); }
        #letter p { margin-bottom: 20px; opacity: 0; transform: translateY(10px); transition: 1.5s; font-family: 'Noto Serif TC', serif; line-height: 1.8; font-size: 20px; }
        .show-p { opacity: 1 !important; transform: translateY(0) !important; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.03); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
        .heart-pulse { animation: pulse 2s infinite ease-in-out; }
    </style>
</head>
<body onclick="wakeUpAudio()">

    <audio id="music-1" loop preload="auto"><source src="Anti-Romantic.mp3"></audio>
    <audio id="music-2" loop preload="auto"><source src="äº”æœˆå¤©-ç‚ºä½ å¯«ä¸‹é€™é¦–æƒ…æ­Œ.mp3"></audio>

    <div id="login-overlay">
        <div class="login-box">
            <h2 style="color:var(--primary); font-family: 'Noto Serif TC', serif;">ğŸ”’ æˆ‘å€‘çš„å›æ†¶ç›¸ç°¿</h2>
            <input type="password" id="pwd" maxlength="8" placeholder="YYYYMMDD">
            <button class="login-btn" onclick="checkPwd()">é–‹å•Ÿå›æ†¶</button>
        </div>
    </div>

    <div id="final-video-container">
        <div class="close-video" onclick="closeFinalVideo()">âœ•</div>
        <div class="video-wrapper" id="video-wrapper"></div>
    </div>

    <div class="book" id="myBook">
        <div class="page" style="--z: 500;"><div class="date-label">2024 / 10 / 08</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="é¢è©¦.mp4" controls playsinline></video></div><div class="caption-tag">åˆæ¬¡è¦‹é¢<br>å°±æ±ºå®šè¦é¸ä½ äº†</div></div></div>
        <div class="page" style="--z: 499;"><div class="date-label">2025 / 01 / 17</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0117.jpg"></div><div class="caption-tag">é€™æ˜¯æˆ‘å€‘çš„<br>ç¬¬ä¸€å¼µåˆç…§ã„›</div></div></div>
        <div class="page" style="--z: 498;"><div class="date-label">2025 / 01 / 23</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0123.jpg"></div><div class="caption-tag">è·Œå€’çš„é‚£å¤©<br>æœˆè€åœ¨ç‰½ç·šå•Šå•Šå•Š</div></div></div>
        <div class="page" style="--z: 497;"><div class="date-label">2025 / 01 / 24</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0124.mp4" controls playsinline></video></div><div class="caption-tag">å¾¹åº•æšˆèˆ¹çš„é‚£ä¸€å¤©</div></div></div>
        <div class="page" style="--z: 496;"><div class="date-label">2025 / 01 / 31</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0131.mp4" controls playsinline></video></div><div class="caption-tag">ç¬¬ä¸€æ¬¡å‡ºå»ç©å°±è·³æ—©æ“<br>æˆ‘çœŸçš„çœŸçš„æ²’æœ‰æ”¾æ°´å•¦</div></div></div>
        <div class="page" style="--z: 495;"><div class="date-label">2025 / 02 / 03</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0203.mp4" controls playsinline></video></div><div class="caption-tag">æ„›æƒ…çš„å¤§å£è›‹<br>å¯¶å¯¶è¦ºå¾—å¾ˆå¸¥å˜¿å˜¿å˜¿</div></div></div>
        <div class="page" style="--z: 494;"><div class="date-label">2025 / 02 / 08</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0208.mp4" controls playsinline></video></div><div class="caption-tag">å»é›²æ—ç©æ’åˆ°é ­è¶…ä¸Ÿè‡‰çš„<br>åœ¨å–œæ­¡çš„äººé¢å‰è€ç™½ç—´</div></div></div>
        <div class="page" style="--z: 493;"><div class="date-label">2025 / 02 / 10</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0210.mp4" controls playsinline></video></div><div class="caption-tag">å»æ–°ç«¹åŸæœ¬è¦çªè¥²çš„<br>ç¬‘ç¬‘ç¾Šç¦®ç‰©å–œæ­¡å—</div></div></div>
        <div class="page" style="--z: 492;"><div class="date-label">2025 / 02 / 12</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0212.mp4" controls playsinline></video></div><div class="caption-tag">å·å·é¤µåœ°ç“œçƒ<br>å°å—å¥½å¥½ç©å•Šå•Šå•Š</div></div></div>
        <div class="page" style="--z: 491;"><div class="date-label">2025 / 02 / 21</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0221.mp4" controls playsinline></video></div><div class="caption-tag">å¹¹å˜›ä¾†å¤§å·¨è›‹çªè¥²æˆ‘å•¦<br>çœŸçš„æ˜¯å¾ˆè¨å­ã„Ÿ</div></div></div>
        <div class="page" style="--z: 490;"><div class="date-label">2025 / 02 / 25</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0225.jpg"></div><div class="caption-tag">æˆ‘å€‘ä¸€èµ·å»å¤§å·¨è›‹<br>çœ‹ WBCQ å•Šå•Šå•Š</div></div></div>
        <div class="page" style="--z: 489;"><div class="date-label">2025 / 03 / 08</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0308.jpg"></div><div class="caption-tag">åˆå»å°åŒ—ç©<br>å·æ‹å¯¶å¯¶ç¡è¦ºå˜¿å˜¿å˜¿</div></div></div>
        <div class="page" style="--z: 488;"><div class="date-label">2025 / 04 / 02</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0402.jpg"></div><div class="caption-tag">å°ç£ç¥­å¥½é›£éå•Šå•Šå•Š</div></div></div>
        <div class="page" style="--z: 487;"><div class="date-label">2025 / 04 / 19</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0419.jpg"></div><div class="caption-tag">æ·¨ç˜çš„æ™‚å€™<br>å·å·æŠ“æˆ‘ã„›</div></div></div>
        <div class="page" style="--z: 486;"><div class="date-label">2025 / 04 / 21</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0421.jpg"></div><div class="caption-tag">å¯¶å¯¶ä¸Šå°å”±æ­Œå•Šå•Šå•Š</div></div></div>

        <div class="page" style="--z: 400;" id="trigger-page">
            <div class="date-label">2025 / 04 / 24</div>
            <div id="flower-zone" style="text-align:center; width: 100%;">
                <div id="flower-main" style="font-size:80px; cursor:pointer;" class="heart-pulse" onclick="playSurpriseVideo()">ğŸ’</div>
                <div id="after-video-ui" style="display:none;">
                    <div class="polaroid" style="margin-bottom: 15px; transform: scale(0.75) rotate(0deg); display: inline-block; padding-bottom: 80px;">
                        <div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="åœ¨ä¸€èµ·.jpg"></div>
                        <div class="caption-tag" style="font-size: 16px; bottom: 10px;">é€™ä¸€å¤©ï¼Œæˆ‘å€‘åœ¨ä¸€èµ·äº† â¤ï¸</div>
                    </div>
                    <p style="color:var(--primary); font-weight: 700; font-size: 18px; margin-top: 5px;">æŒ‰ NEXT é–‹å•Ÿç”œèœœæ–°ç¯‡ç« </p>
                </div>
                <p id="trigger-text" style="color:var(--primary); margin-top: 25px; font-weight: 700; font-size: 20px; line-height: 1.6;">3:14åˆ†æˆ‘å€‘åœ¨ä¸€èµ·æƒ¹<br>çœ‹æœ€é‡è¦çš„æ™‚åˆ»</p>
            </div>
        </div>

        <div class="page sweet-era after-love-content" style="--z: 384;"><div class="date-label">2025 / 04 / 25</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0425.jpg"></div><div class="caption-tag">ç¬¬ä¸€æ¬¡ç‰½æ‰‹æ™‚ä½ èªª<br>é‚„æ˜¯è¦å†ç‰½ä¸€ä¸‹å•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 383;"><div class="date-label">2025 / 05 / 03</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0503.jpg"></div><div class="caption-tag">ä¸€èµ·å»é«˜é›„çœ‹ Trash</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 382;"><div class="date-label">2025 / 05 / 08</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0508.jpg"></div><div class="caption-tag">é€æˆ‘æé¾<br>æˆ‘é–‹å¿ƒåˆ°å“­å•Šå•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 381;"><div class="date-label">2025 / 05 / 16</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0516.jpg"></div><div class="caption-tag">é™ªæˆ‘å»ç¬¬äºŒå¸‚å ´æ¡è¨ª</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 380;"><div class="date-label">2025 / 05 / 20</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0520.jpg"></div><div class="caption-tag">ç¬¬ä¸€å€‹ 520<br>å·å·é€å¯¶å¯¶èŠ±</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 379;"><div class="date-label">2025 / 06 / 14</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0614.mp4" controls playsinline></video></div><div class="caption-tag">ç¬¬ä¸€æ¬¡é™ªæˆ‘å»å¤§å·¨è›‹å·¥ä½œ<br>æœ‰äººå–é…’åœ¨ç¡è¦ºã„š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 378;"><div class="date-label">2025 / 07 / 05</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0705.mp4" controls playsinline></video></div><div class="caption-tag">ç¬¬ä¸€æ¬¡çœ‹äº”æœˆå¤©<br>å®Œæˆæˆ‘çš„å¤¢æƒ³</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 377;"><div class="date-label">2025 / 08 / 08</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0808.jpg"></div><div class="caption-tag">å¯¶å¯¶é™ªæˆ‘å»æ´²éš›å·¥ä½œ</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 376;"><div class="date-label">2025 / 08 / 15</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0815.mp4" controls playsinline></video></div><div class="caption-tag">çªæ“Šæ–°ç«¹é‹å‹•ä¸­å¿ƒ<br>çµ‚æ–¼çªè¥²åˆ°äº†å˜¿å˜¿å˜¿</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 375;"><div class="date-label">2025 / 08 / 17</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0817.mp4" controls playsinline></video></div><div class="caption-tag">ä¸€èµ·å»å¤§ç”²å·¥ä½œ<br>è¶…ç´¯çš„</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 374;"><div class="date-label">2025 / 08 / 27</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0827.mp4" controls playsinline></video></div><div class="caption-tag">è·Ÿå¥½æœ‹å‹å€‘å»å®œè˜­ç©</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 373;"><div class="date-label">2025 / 09 / 12</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0912.jpg"></div><div class="caption-tag">å»ç·´è»Šï¼Œå¯¶å¯¶æ‘”è»Š<br>çœ‹ 96 åˆ†é˜çœ‹åˆ°å“­å“­</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 372;"><div class="date-label">2025 / 09 / 20</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="0920.mp4" controls playsinline></video></div><div class="caption-tag">å¯¶å¯¶ä¸€èµ·é™ªæˆ‘å»<br>å¤§ç”²æ‹ç†±éŸ³ç¤¾</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 371;"><div class="date-label">2025 / 09 / 24</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0924.jpg"></div><div class="caption-tag">å¯¶å¯¶æ®ºä¾†éœå®œ<br>åš‡çˆ›å•Šå•Šå•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 370;"><div class="date-label">2025 / 09 / 29</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="0929.jpg"></div><div class="caption-tag">åˆ°å…‰å¾©ç•¶éŸå­è¶…äºº<br>è¶…ç†±è¡€çš„ï¼ï¼ï¼</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 369;"><div class="date-label">2025 / 10 / 02</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1002.jpg"></div><div class="caption-tag">ä¸€èµ·å»æ´²éš›æ‹‹å½©å¸¶</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 368;"><div class="date-label">2025 / 10 / 03</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1003.jpg"></div><div class="caption-tag">å»å°å—ç©å•Šå•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 367;"><div class="date-label">2025 / 10 / 11</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="1011.mp4" controls playsinline></video></div><div class="caption-tag">è½æ½®æ´¾é¹¿æ¸¯èŠ’æœé†¬<br>ä¸€ç›´ä¸Šé›»è¦–</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 366;"><div class="date-label">2025 / 10 / 12</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1012.jpg"></div><div class="caption-tag">æˆ‘å“­å“­<br>é–ƒå…‰ç‡ˆé–‹ä¸äº†</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 365;"><div class="date-label">2025 / 10 / 16</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="1016.mp4" controls playsinline></video></div><div class="caption-tag">è·‘äº†20å®¶7-11è²·åˆ°æƒ¹<br>å¯¶å¯¶å¾ˆé–‹å¿ƒå˜¿å˜¿</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 364;"><div class="date-label">2025 / 10 / 24</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1024.jpg"></div><div class="caption-tag">æˆ‘å€‘åŠå¹´æƒ¹å•Šå•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 363;"><div class="date-label">2025 / 11 / 29</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><video class="page-video" data-src="1129.mp4" controls playsinline></video></div><div class="caption-tag">æŠ½åˆ°å•¾å•¾<br>æœƒä¸æœƒå¤ªæ‰¯å•¦</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 362;"><div class="date-label">2025 / 12 / 24</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1224.jpg"></div><div class="caption-tag">è·Ÿå¯¶å¯¶çš„<br>ç¬¬ä¸€å€‹å¹³å®‰å¤œ</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 361;"><div class="date-label">2025 / 12 / 26</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1226.jpg"></div><div class="caption-tag">ç¬¬ä¸€æ¬¡æ‹æ‹è²¼æ©Ÿ</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 360;"><div class="date-label">2025 / 12 / 31</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="1231.jpg"></div><div class="caption-tag">ç¬¬ä¸€æ¬¡è·Ÿå¯¶å¯¶è·¨å¹´<br>å¥½é–‹å¿ƒå•Šå•Šå•Š</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 359;"><div class="date-label">2026 / 01 / 18</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="20260118.jpg"></div><div class="caption-tag">é™ªå¯¶å¯¶ä¸€èµ·åšæ‰‹ä½œ</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 358;"><div class="date-label">2026 / 01 / 21</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="20260121.jpg"></div><div class="caption-tag">å¯¶å¯¶å¹«æˆ‘æ…¶ç”Ÿå•Šå•Šå•Š<br>é‚„æœ‰å¡ç‰‡å’Œè›‹ç³•</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 357;"><div class="date-label">2026 / 01 / 26</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="20250126.jpg"></div><div class="caption-tag">å‡ºéšŠæƒ¹<br>å¥½ç´¯å¥½ç´¯</div></div></div>
        <div class="page sweet-era after-love-content" style="--z: 356;"><div class="date-label">2026 / 01 / 29</div><div class="polaroid"><div class="media-container"><div class="scratch-overlay" onclick="reveal(this)"></div><img src="20260129.jpg"></div><div class="caption-tag">çµ‚æ–¼ç†¬éå»äº†<br>å¯¶å¯¶è¼‰æˆ‘å›å®¶å˜¿å˜¿</div></div></div>

        <div class="page sweet-era after-love-content" style="--z: 10;" id="day-counter-page">
            <div class="date-label">Future</div>
            <div class="day-counter-card"><p>æˆ‘å€‘å·²ç¶“åœ¨ä¸€èµ·</p><span id="days-val" class="day-number">0</span><p>DAYS</p></div>
            <p style="margin-top: 30px; color: #888; font-style: italic;">ã€Œæ¯å¤©çœé–‹çœ¼ï¼Œæ„›å¦³åˆå¤šäº†ä¸€å¤©ã€‚ã€</p>
        </div>
        <div class="page after-love-content" style="--z: 1;">
            <div id="letter">
                <p style="font-weight: 700; color: var(--primary); font-size: 24px;">ã€Œè‡´æˆ‘çš„ 100 åˆ†å¥³å­©ã€‚ã€</p>
                <p>é›–ç„¶æˆ‘å¯èƒ½ä¸æ˜¯ä½ å–œæ­¡çš„å¸¥å“¥ï¼Œä½†æˆ‘æœƒç”¨ç›¡å…¨åŠ›å°å¦³å¥½çš„</p>
                <p>æœªä¾†æˆ‘å€‘ä¸€å®šæœƒä¸€èµ·å‰µé€ æ›´å¤šç¾å¥½çš„æ•…äº‹ï¼</p>
                <p style="color:#e63946; font-size:2.2em; font-weight:bold; margin-top:35px !important; letter-spacing: 5px; text-align: center;">æˆ‘æ„›å¦³ï¼Œæ›¾â˜ï¸ğŸ’—</p>
            </div>
        </div>

        <div class="nav-controls"><button class="btn" id="prevBtn" onclick="prevPage()" disabled>PREV</button><button class="btn" id="nextBtn" onclick="nextPage()">NEXT</button></div>
    </div>

    <script>
        let curr = 0; const pages = document.querySelectorAll('.page');
        const m1 = document.getElementById('music-1'), m2 = document.getElementById('music-2');
        let bookStarted = false, isStoryUnlocked = false;

        function reveal(overlay) { overlay.classList.add('revealed'); }
        function wakeUpAudio() { if (!bookStarted) return; (isStoryUnlocked ? m2 : m1).play().catch(()=>{}); }

        // --- å„ªåŒ–ï¼šæ™ºæ…§åŠ è¼‰å½±ç‰‡ ---
        function loadVideo(index) {
            const v = pages[index].querySelector('.page-video');
            if(v) { 
                if(!v.src) { v.src = v.getAttribute('data-src'); v.load(); }
                // é€™è£¡åŠ å…¥ç›£è½ï¼šå¦‚æœåˆ†é å½±ç‰‡æ’­å®Œäº†ï¼Œè‡ªå‹•å–šé†’èƒŒæ™¯éŸ³æ¨‚
                v.onended = wakeUpAudio;
                v.onpause = wakeUpAudio;
            }
        }

        function checkPwd() {
            if (document.getElementById('pwd').value === '20250424') {
                m1.play().catch(()=>{});
                document.getElementById('login-overlay').style.display = 'none';
                document.getElementById('myBook').style.display = 'block';
                bookStarted = true;
                loadVideo(0); // ç¬¬ä¸€é 
            } else { alert("å¯†ç¢¼éŒ¯èª¤å–”ï¼"); }
        }

        function updateButtons() {
            document.getElementById('prevBtn').disabled = (curr === 0);
            document.getElementById('nextBtn').disabled = (curr === pages.length - 1);
            if (pages[curr].id === "trigger-page" && !isStoryUnlocked) document.getElementById('nextBtn').style.display = "none";
            else document.getElementById('nextBtn').style.display = "block";
        }

        function nextPage() {
            if (curr < pages.length - 1) {
                // æš«åœç•¶å‰é å½±ç‰‡ï¼ˆä¸éŠ·æ¯€ï¼Œç¿»å›ä¾†é‚„èƒ½çœ‹ï¼‰
                const v = pages[curr].querySelector('video');
                if(v) v.pause();
                
                pages[curr].classList.add('flipped'); curr++; 
                loadVideo(curr); // è¼‰å…¥æ–°ä¸€é 
                updateButtons(); wakeUpAudio();
                if (pages[curr].id === "day-counter-page") animateDays();
                if (curr === pages.length - 1) showLetter();
            }
        }

        function prevPage() {
            if (curr > 0) {
                const v = pages[curr].querySelector('video');
                if(v) v.pause();

                curr--; pages[curr].classList.remove('flipped'); 
                loadVideo(curr); // é‡æ–°æª¢æŸ¥ä¸¦åŠ è¼‰å½±ç‰‡
                updateButtons(); wakeUpAudio();
            }
        }

        function playSurpriseVideo() {
            m1.pause();
            document.getElementById('video-wrapper').innerHTML = `<iframe id="yt-frame" src="https://www.youtube.com/embed/e4bQwcrrN9A?autoplay=1&enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
            document.getElementById('final-video-container').style.display = 'flex';
            setTimeout(()=>document.getElementById('final-video-container').style.opacity = '1', 50);
        }

        function closeFinalVideo() {
            const frame = document.getElementById('yt-frame'); if(frame) frame.src = "";
            document.getElementById('video-wrapper').innerHTML = "";
            document.getElementById('final-video-container').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('final-video-container').style.display = 'none';
                isStoryUnlocked = true;
                document.getElementById('flower-main').style.display = "none";
                document.getElementById('trigger-text').style.display = "none";
                document.getElementById('after-video-ui').style.display = "block";
                m1.pause(); m1.currentTime = 0;
                m2.play().catch(()=>{});
                document.querySelectorAll('.after-love-content').forEach(p=>p.style.display = 'flex');
                updateButtons();
            }, 600);
        }

        function animateDays() {
            const target = Math.floor((new Date().getTime() - new Date("2025-04-24").getTime()) / (1000 * 3600 * 24));
            const display = document.getElementById('days-val'); let count = 0;
            const timer = setInterval(() => { count += Math.ceil(target / 50); if (count >= target) { display.innerText = target; clearInterval(timer); } else display.innerText = count; }, 30);
        }

        function showLetter() {
            const lt = document.getElementById('letter'); lt.style.display = 'block';
            setTimeout(()=>lt.style.opacity='1',10);
            lt.querySelectorAll('p').forEach((p,i)=>setTimeout(()=>p.classList.add('show-p'),i * 2000));
        }

        window.addEventListener('keydown', (e) => {
            if (!bookStarted) return;
            if ((e.key === "ArrowRight" || e.key === " ") && (isStoryUnlocked || pages[curr].id !== "trigger-page")) nextPage();
            else if (e.key === "ArrowLeft") prevPage();
        });

        document.getElementById('pwd').addEventListener('keypress', (e) => { if (e.key === 'Enter') checkPwd(); });
    </script>
</body>
</html>